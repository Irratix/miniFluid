t=[];c.width=158,c.height=50;r=c.getContext("2d");init=()=>{t=[];for(r=p.value,e=0,a=0,f=0;f<r.length;f++){v=r[f];if("\n"===v)e+=1,a=0;else if(" "!==v){for(n="#"===v,h=0;h<1;h++)for(l=0;l<1;l++)t.push({x:a+h,y:e+l,w:n,u:0,v:0,f:0,g:0,d:0});a+=1}else a+=1}},fetch("inputs/endoh1.c").then(t=>t.text()).then(e=>{p.value=e,init(),setInterval(()=>{for(e=0;e<t.length;e++){(d=t[e]).d=d.w?9:0;for(a=0;a<t.length;a++){f=t[a];if((l=(h=d.x-f.x)*h+(n=d.y-f.y)*n)<4){v=Math.sqrt(l)/2-1;d.d+=v*v}}}for(e=0;e<t.length;e++){(d=t[e]).g=1,d.f=0;for(a=0;a<t.length;a++){n,h,l;f=t[a];if((l=(n=d.y-f.y)*n+(h=d.x-f.x)*h)<4){i=Math.sqrt(l)/2-1;d.g+=(n*(3-d.d-f.d)*3+4*d.v-4*f.v)*i/d.d,d.f+=(h*(3-d.d-f.d)*3+4*d.u-4*f.u)*i/d.d}}}c.width^=0,r.fillStyle="#0008";for(e=0;e<t.length;e++){d,g=(d=t[e]).x,o=d.y;d.w||(d.y+=d.v+=d.g/10,d.x+=d.u+=d.f/10),0<=g&&g<79&&0<=o&&o<25&&(r.beginPath(),r.arc(2*g,2*o,2,0,7),r.fill())}},33)})