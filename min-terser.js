t=[];c.width=158,c.height=50;e=c.getContext("2d");init=()=>{t=[];for(e=p.value,r=0,a=0,n=0;n<e.length;n++){v=e[n];if("\n"===v)r++,a=0;else if(" "!==v){f="#"===v;t.push({x:a,y:r,w:f,u:0,v:0,f:0,g:0,d:0}),a++}else a++}},fetch("inputs/endoh1.c").then(t=>t.text()).then(r=>{p.value=r,init(),setInterval(()=>{for(r=0;r<t.length;r++){(d=t[r]).d=d.w?9:0;for(a=0;a<t.length;a++){n=t[a];if((l=(h=d.x-n.x)*h+(f=d.y-n.y)*f)<4){v=Math.sqrt(l)/2-1;d.d+=v*v}}}for(r=0;r<t.length;r++){(d=t[r]).g=1,d.f=0;for(a=0;a<t.length;a++){f,h,l;n=t[a];if((l=(f=d.y-n.y)*f+(h=d.x-n.x)*h)<4){i=Math.sqrt(l)/2-1;d.g+=(f*(3-d.d-n.d)*3+4*d.v-4*n.v)*i/d.d,d.f+=(h*(3-d.d-n.d)*3+4*d.u-4*n.u)*i/d.d}}}c.width^=0,e.fillStyle="#0008";for(r=0;r<t.length;r++){d,g=(d=t[r]).x,o=d.y;d.w||(d.y+=d.v+=d.g/10,d.x+=d.u+=d.f/10),0<=g&&g<79&&0<=o&&o<25&&(e.beginPath(),e.arc(2*g,2*o,2,0,7),e.fill())}},33)})