// compressed with https://xem.github.io/terser-online/

function e(e,a,r){this.posx=e,this.posy=a,this.wallflag=r,this.velx=0,this.vely=0,this.forcex=0,this.forcey=0,this.density=0}accuracy=1,Gravity=1,Pressure=3,Viscosity=4,w=79*accuracy,h=25*accuracy,scale=2;var a=[];canvas.width=w*scale,canvas.height=h*scale;var r=canvas.getContext("2d");previewarea.cols=w,previewarea.rows=h,init=()=>{a=[];for(var r=previewarea.value,s=0,t=0,c=0;c<r.length;c++){var i=r[c];if("\n"===i)s+=accuracy,t=0;else if(" "!==i){for(var o="#"===i,y=0;y<accuracy;y++)for(var l=0;l<accuracy;l++)a.push(new e(t+y,s+l,o));t+=accuracy}else t+=accuracy}},density=()=>{for(var e=0;e<a.length;e++){var r=a[e];r.density=r.wallflag?9:0;for(var s=0;s<a.length;s++){var t=a[s],c=r.posx-t.posx,i=r.posy-t.posy,o=c*c+i*i;if(o<4){var y=Math.sqrt(o)/2-1;r.density+=y*y}}}},force=()=>{for(var e=0;e<a.length;e++){var r=a[e];r.forcey=Gravity,r.forcex=0;for(var s=0;s<a.length;s++){var t=a[s],c=r.posy-t.posy,i=r.posx-t.posx,o=c*c+i*i;if(o<4){var y=Math.sqrt(o)/2-1;r.forcey+=(c*(3-r.density-t.density)*Pressure+r.vely*Viscosity-t.vely*Viscosity)*y/r.density,r.forcex+=(i*(3-r.density-t.density)*Pressure+r.velx*Viscosity-t.velx*Viscosity)*y/r.density}}}},draw=()=>{canvas.width^=0,r.fillStyle="#0008";for(var e=0;e<a.length;e++){var s=a[e],t=s.posx,c=s.posy;s.wallflag||(s.posy+=s.vely+=s.forcey/10,s.posx+=s.velx+=s.forcex/10),0<=t&&t<w&&0<=c&&c<h&&(r.beginPath(),r.arc(t*scale,c*scale,scale,0,7),r.fill())}},nextframe=()=>{density(),force(),draw()},fetch("inputs/endoh1.c").then(e=>e.text()).then(e=>{previewarea.value=e,init(),setInterval(nextframe,33)})

accuracy=1,Gravity=1,Pressure=3,Viscosity=4,w=79*accuracy,h=25*accuracy,scale=2;var e=[];canvas.width=w*scale,canvas.height=h*scale;var a=canvas.getContext("2d");previewarea.cols=w,previewarea.rows=h,init=()=>{e=[];for(var a=previewarea.value,r=0,s=0,c=0;c<a.length;c++){var t=a[c];if("\n"===t)r+=accuracy,s=0;else if(" "!==t){for(var o="#"===t,i=0;i<accuracy;i++)for(var y=0;y<accuracy;y++)e.push({posx:s+i,posy:r+y,wallflag:o,velx:0,vely:0,forcex:0,forcey:0,density:0});s+=accuracy}else s+=accuracy}},density=()=>{for(var a=0;a<e.length;a++){var r=e[a];r.density=r.wallflag?9:0;for(var s=0;s<e.length;s++){var c=e[s],t=r.posx-c.posx,o=r.posy-c.posy,i=t*t+o*o;if(i<4){var y=Math.sqrt(i)/2-1;r.density+=y*y}}}},force=()=>{for(var a=0;a<e.length;a++){var r=e[a];r.forcey=Gravity,r.forcex=0;for(var s=0;s<e.length;s++){var c=e[s],t=r.posy-c.posy,o=r.posx-c.posx,i=t*t+o*o;if(i<4){var y=Math.sqrt(i)/2-1;r.forcey+=(t*(3-r.density-c.density)*Pressure+r.vely*Viscosity-c.vely*Viscosity)*y/r.density,r.forcex+=(o*(3-r.density-c.density)*Pressure+r.velx*Viscosity-c.velx*Viscosity)*y/r.density}}}},draw=()=>{canvas.width^=0,a.fillStyle="#0008";for(var r=0;r<e.length;r++){var s=e[r],c=s.posx,t=s.posy;s.wallflag||(s.posy+=s.vely+=s.forcey/10,s.posx+=s.velx+=s.forcex/10),0<=c&&c<w&&0<=t&&t<h&&(a.beginPath(),a.arc(c*scale,t*scale,scale,0,7),a.fill())}},nextframe=()=>{density(),force(),draw()},fetch("inputs/endoh1.c").then(e=>e.text()).then(e=>{previewarea.value=e,init(),setInterval(nextframe,33)})

e=[];canvas.width=158,canvas.height=50;var r=canvas.getContext("2d");previewarea.cols=79,previewarea.rows=25,init=()=>{e=[];for(var r=previewarea.value,a=0,t=0,o=0;o<r.length;o++){var s=r[o];if("\n"===s)a+=1,t=0;else if(" "!==s){for(var v="#"===s,n=0;n<1;n++)for(var l=0;l<1;l++)e.push({posx:t+n,posy:a+l,wallflag:v,velx:0,vely:0,forcex:0,forcey:0,density:0});t+=1}else t+=1}},density=()=>{for(var r=0;r<e.length;r++){var a=e[r];a.density=a.wallflag?9:0;for(var t=0;t<e.length;t++){var o=e[t],s=a.posx-o.posx,v=a.posy-o.posy,n=s*s+v*v;if(n<4){var l=Math.sqrt(n)/2-1;a.density+=l*l}}}},force=()=>{for(var r=0;r<e.length;r++){var a=e[r];a.forcey=1,a.forcex=0;for(var t=0;t<e.length;t++){var o=e[t],s=a.posy-o.posy,v=a.posx-o.posx,n=s*s+v*v;if(n<4){var l=Math.sqrt(n)/2-1;a.forcey+=(s*(3-a.density-o.density)*3+4*a.vely-4*o.vely)*l/a.density,a.forcex+=(v*(3-a.density-o.density)*3+4*a.velx-4*o.velx)*l/a.density}}}},draw=()=>{canvas.width^=0,r.fillStyle="#0008";for(var a=0;a<e.length;a++){var t=e[a],o=t.posx,s=t.posy;t.wallflag||(t.posy+=t.vely+=t.forcey/10,t.posx+=t.velx+=t.forcex/10),0<=o&&o<79&&0<=s&&s<25&&(r.beginPath(),r.arc(2*o,2*s,2,0,7),r.fill())}},nextframe=()=>{density(),force(),draw()},fetch("inputs/endoh1.c").then(e=>e.text()).then(e=>{previewarea.value=e,init(),setInterval(nextframe,33)})

e=[];c.width=158,c.height=50;var r=c.getContext("2d");p.cols=79,p.rows=25,init=()=>{e=[];for(var r=p.value,t=0,o=0,a=0;a<r.length;a++){var l=r[a];if("\n"===l)t+=1,o=0;else if(" "!==l){for(var s="#"===l,n=0;n<1;n++)for(var f=0;f<1;f++)e.push({posx:o+n,posy:t+f,wallflag:s,velx:0,vely:0,forcex:0,forcey:0,density:0});o+=1}else o+=1}},density=()=>{for(var r=0;r<e.length;r++){var t=e[r];t.density=t.wallflag?9:0;for(var o=0;o<e.length;o++){var a=e[o],l=t.posx-a.posx,s=t.posy-a.posy,n=l*l+s*s;if(n<4){var f=Math.sqrt(n)/2-1;t.density+=f*f}}}},force=()=>{for(var r=0;r<e.length;r++){var t=e[r];t.forcey=1,t.forcex=0;for(var o=0;o<e.length;o++){var a=e[o],l=t.posy-a.posy,s=t.posx-a.posx,n=l*l+s*s;if(n<4){var f=Math.sqrt(n)/2-1;t.forcey+=(l*(3-t.density-a.density)*3+4*t.vely-4*a.vely)*f/t.density,t.forcex+=(s*(3-t.density-a.density)*3+4*t.velx-4*a.velx)*f/t.density}}}},draw=()=>{c.width^=0,r.fillStyle="#0008";for(var t=0;t<e.length;t++){var o=e[t],a=o.posx,l=o.posy;o.wallflag||(o.posy+=o.vely+=o.forcey/10,o.posx+=o.velx+=o.forcex/10),0<=a&&a<79&&0<=l&&l<25&&(r.beginPath(),r.arc(2*a,2*l,2,0,7),r.fill())}},nextframe=()=>{density(),force(),draw()},fetch("inputs/endoh1.c").then(e=>e.text()).then(e=>{p.value=e,init(),setInterval(nextframe,33)})

r=[];c.width=158,c.height=50;var t=c.getContext("2d");p.cols=79,p.rows=25,init=()=>{r=[];for(var t=p.value,a=0,e=0,v=0;v<t.length;v++){var f=t[v];if("\n"===f)a+=1,e=0;else if(" "!==f){for(var n="#"===f,d=0;d<1;d++)for(var h=0;h<1;h++)r.push({x:e+d,y:a+h,w:n,u:0,v:0,f:0,g:0,d:0});e+=1}else e+=1}},d=()=>{for(var t=0;t<r.length;t++){var a=r[t];a.d=a.w?9:0;for(var e=0;e<r.length;e++){var v=r[e],f=a.x-v.x,n=a.y-v.y,d=f*f+n*n;if(d<4){var h=Math.sqrt(d)/2-1;a.d+=h*h}}}},force=()=>{for(var t=0;t<r.length;t++){var a=r[t];a.g=1,a.f=0;for(var e=0;e<r.length;e++){var v=r[e],f=a.y-v.y,n=a.x-v.x,d=f*f+n*n;if(d<4){var h=Math.sqrt(d)/2-1;a.g+=(f*(3-a.d-v.d)*3+4*a.v-4*v.v)*h/a.d,a.f+=(n*(3-a.d-v.d)*3+4*a.u-4*v.u)*h/a.d}}}},draw=()=>{c.width^=0,t.fillStyle="#0008";for(var a=0;a<r.length;a++){var e=r[a],v=e.x,f=e.y;e.w||(e.y+=e.v+=e.g/10,e.x+=e.u+=e.f/10),0<=v&&v<79&&0<=f&&f<25&&(t.beginPath(),t.arc(2*v,2*f,2,0,7),t.fill())}},nextframe=()=>{d(),force(),draw()},fetch("inputs/endoh1.c").then(r=>r.text()).then(r=>{p.value=r,init(),setInterval(nextframe,33)})

r=[];c.width=158,c.height=50;var t=c.getContext("2d");init=()=>{r=[];for(var t=p.value,a=0,e=0,v=0;v<t.length;v++){var f=t[v];if("\n"===f)a+=1,e=0;else if(" "!==f){for(var n="#"===f,d=0;d<1;d++)for(var h=0;h<1;h++)r.push({x:e+d,y:a+h,w:n,u:0,v:0,f:0,g:0,d:0});e+=1}else e+=1}},d=()=>{for(var t=0;t<r.length;t++){var a=r[t];a.d=a.w?9:0;for(var e=0;e<r.length;e++){var v=r[e],f=a.x-v.x,n=a.y-v.y,d=f*f+n*n;if(d<4){var h=Math.sqrt(d)/2-1;a.d+=h*h}}}},force=()=>{for(var t=0;t<r.length;t++){var a=r[t];a.g=1,a.f=0;for(var e=0;e<r.length;e++){var v=r[e],f=a.y-v.y,n=a.x-v.x,d=f*f+n*n;if(d<4){var h=Math.sqrt(d)/2-1;a.g+=(f*(3-a.d-v.d)*3+4*a.v-4*v.v)*h/a.d,a.f+=(n*(3-a.d-v.d)*3+4*a.u-4*v.u)*h/a.d}}}},draw=()=>{c.width^=0,t.fillStyle="#0008";for(var a=0;a<r.length;a++){var e=r[a],v=e.x,f=e.y;e.w||(e.y+=e.v+=e.g/10,e.x+=e.u+=e.f/10),0<=v&&v<79&&0<=f&&f<25&&(t.beginPath(),t.arc(2*v,2*f,2,0,7),t.fill())}},nextframe=()=>{d(),force(),draw()},fetch("inputs/endoh1.c").then(r=>r.text()).then(r=>{p.value=r,init(),setInterval(nextframe,33)})
